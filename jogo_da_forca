<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jogo da Forca Divertido</title>
    <style>
        /* Estilo Geral */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Comic Sans MS', cursive, sans-serif;
            background: linear-gradient(135deg, #ffe259 0%, #ffa751 100%);
            color: #333;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 900px;
            width: 100%;
            background-color: #fff;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            padding: 30px;
            text-align: center;
        }

        h1 {
            color: #ff6b6b;
            font-size: 2.5rem;
            text-shadow: 2px 2px 10px rgba(0, 0, 0, 0.2);
        }

        /* Tela de Nome */
        .tela-inicial {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 1rem;
            min-height: 100vh;
        }

        .tela-inicial input {
            padding: 10px;
            border-radius: 8px;
            border: 2px solid #4d96ff;
            font-size: 1.2rem;
            margin: 0.5rem;
        }

        .tela-inicial button {
            padding: 10px 20px;
            background-color: #06d6a0;
            border-radius: 8px;
            border: none;
            color: white;
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.3s;
        }

        .tela-inicial button:hover {
            background-color: #04b981;
        }

        /* Cabe√ßalho do Jogo */
        .game-header {
            display: flex;
            justify-content: space-around;
            align-items: center;
            margin-bottom: 20px;
            font-size: 1.2rem;
            color: #444;
        }

        .game-header span {
            padding: 10px 20px;
            border-radius: 25px;
            background: #f8f9fa;
        }

        .word-display {
            font-size: 2rem;
            letter-spacing: 10px;
            color: #4d96ff;
        }

        .keyboard {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 10px;
            margin-top: 20px;
        }

        .key {
            padding: 15px;
            background-color: #ffd166;
            border-radius: 8px;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .key:hover {
            transform: scale(1.1);
            background-color: #ffbb33;
        }

        .controls button {
            background-color: #ff6b6b;
            color: white;
            border: none;
            border-radius: 10px;
            padding: 12px 20px;
            font-size: 1.1rem;
            margin-top: 20px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .controls button:hover {
            background-color: #e63946;
        }

        .message {
            margin-top: 20px;
            font-size: 1.5rem;
        }

        .win {
            color: green;
            font-weight: bold;
            font-size: 2rem;
        }

        .lose {
            color: red;
            font-weight: bold;
            font-size: 2rem;
        }

    </style>
</head>
<body>
    <!-- Tela Inicial -->
    <div class="tela-inicial">
        <h2>Ol√°! Pronto para jogar?</h2>
        <p>Digite o seu nome:</p>
        <input type="text" id="nomeJogador" placeholder="Seu nome..." />
        <button onclick="iniciarJogo()">Come√ßar</button>
    </div>

    <!-- Tela do Jogo -->
    <div class="container" style="display: none;">
        <h1>Jogo da Forca</h1>
        <div class="game-header">
            <span>Pontua√ß√£o: <span id="pontuacao">0</span></span>
            <span>Tentativas: <span id="tentativas">6</span></span>
            <span>Palavras acertadas: <span id="palavrasAcertadas">0</span></span>
        </div>
        <div id="dica" style="font-size:1.1rem; margin-bottom:16px; color:#666;"></div>
        <div class="word-display" id="palavra-secreta"></div>
        <div class="hangman-area">
            <svg id="forca-svg" width="120" height="180"></svg>
        </div>
        <div class="keyboard" id="teclado"></div>
        <div class="controls">
            <button onclick="reiniciarJogo()">Novo Jogo</button>
        </div>
    </div>

    <audio id="musicaFundo" src="https://www.midis101.com/play-midi/40592-bella-ciao-l-ant.mp3" loop></audio>
    <script>
    let nomeJogador = "";
    let tentativas = 6;
    let pontuacao = 0;
    let palavrasAcertadas = 0;
    const palavras = [
        { palavra: "UNICORNIO", dica: "Animal m√≠stico" },
        { palavra: "AVENTURA", dica: "Categoria de filme emocionante" },
        { palavra: "DINOSSAURO", dica: "Animal pr√©-hist√≥rico" },
        { palavra: "PIXAR", dica: "Est√∫dio de anima√ß√£o famoso" },
        { palavra: "COMPUTADOR", dica: "Equipamento eletr√¥nico de processamento" },
        { palavra: "ALGORITMO", dica: "Sequ√™ncia de passos para resolver um problema" },
        { palavra: "JAVASCRIPT", dica: "Linguagem popular para web" },
        { palavra: "PYTHON", dica: "Linguagem de programa√ß√£o de f√°cil leitura" },
        { palavra: "OCEANO", dica: "Corpo de √°gua grande e salgado" },
        { palavra: "DESERTO", dica: "Regi√£o √°rida" },
        { palavra: "GIRAFA", dica: "Animal de pesco√ßo longo" },
        { palavra: "CACHOEIRA", dica: "Queda natural de √°gua" },
        { palavra: "CARAMELO", dica: "Doce feito de a√ß√∫car derretido" },
        { palavra: "ORQUESTRA", dica: "Grupo grande de m√∫sicos cl√°ssicos" },
        { palavra: "MICROFONE", dica: "Usado para amplificar a voz" },
        { palavra: "BICICLETA", dica: "Meio de transporte com duas rodas" },
        { palavra: "ECLIPSE", dica: "Oculta√ß√£o de um astro por outro" },
        { palavra: "MARATONA", dica: "Corrida de longa dist√¢ncia" },
        { palavra: "MONTANHA", dica: "Grande eleva√ß√£o natural do terreno" },
        { palavra: "TELESCOPIO", dica: "Instrumento para observar estrelas" },
        { palavra: "FUTEBOL", dica: "Esporte jogado com bola nos p√©s" },
        { palavra: "PINTURA", dica: "Arte feita com tintas" },
        { palavra: "BIBLIOTECA", dica: "Lugar cheio de livros" },
        { palavra: "XADREZ", dica: "Jogo de tabuleiro estrat√©gico" },
        { palavra: "GUITARRA", dica: "Instrumento de cordas" },
        { palavra: "ELEFANTE", dica: "Maior animal terrestre" },
        { palavra: "BORBOLETA", dica: "Inseto colorido e voador" },
        { palavra: "JORNALISTA", dica: "Profissional das not√≠cias" },
        { palavra: "DENTISTA", dica: "Cuida dos dentes" },
        { palavra: "GEOGRAFIA", dica: "Estudo do planeta Terra" },
        { palavra: "ASTRONAUTA", dica: "Profissional que viaja ao espa√ßo" },
        { palavra: "BARCO", dica: "Meio de transporte aqu√°tico" },
        { palavra: "VULCAO", dica: "Montanha que expele lava" },
        { palavra: "ESPELHO", dica: "Reflete imagens" },
        { palavra: "ESCORREGADOR", dica: "Brinquedo de playground" },
        { palavra: "PIPOCAR", dica: "Estourar como milho no cinema" },
        { palavra: "OUTONO", dica: "Esta√ß√£o das folhas caindo" },
        { palavra: "AMIZADE", dica: "Rela√ß√£o de carinho entre amigos" },
        { palavra: "SABONETE", dica: "Usado para lavar as m√£os" },
        { palavra: "COELHO", dica: "Animal que pula e tem orelhas grandes" },
        { palavra: "FESTIVAL", dica: "Grande evento cultural" },
        { palavra: "REL√ìGIO", dica: "Serve para ver as horas" },
        { palavra: "SILENCIO", dica: "Aus√™ncia de ru√≠do" },
        { palavra: "FLORESTA", dica: "Grande √°rea com muitas √°rvores" },
        { palavra: "PRATELEIRA", dica: "Serve para colocar objetos" },
        { palavra: "INVENTOR", dica: "Quem cria novas coisas" },
        { palavra: "MATEMATICA", dica: "Ci√™ncia dos n√∫meros" },
        { palavra: "GUAXINIM", dica: "Animal noturno de m√°scara preta" },
        { palavra: "FANTASIA", dica: "Imagin√°rio ou roupa de festa" },
        { palavra: "RELAMPAGO", dica: "Descarga el√©trica na tempestade" },
        { palavra: "VESTIDO", dica: "Pe√ßa de roupa feminina" },
        { palavra: "SORVETE", dica: "Doce gelado" },
        { palavra: "INSTRUMENTO", dica: "Pode ser musical ou de trabalho" },
        { palavra: "ELETRICIDADE", dica: "Energia para aparelhos" },
        { palavra: "FOTOGRAFIA", dica: "Imagem feita com c√¢mera" },
        { palavra: "FERROVIA", dica: "Trilho para trens" },
        { palavra: "FLOCO", dica: "Pequeno peda√ßo como de neve" },
        { palavra: "PIRAMIDE", dica: "Constru√ß√£o triangular do Egito" },
        { palavra: "TURISTA", dica: "Pessoa que viaja a lazer" },
        { palavra: "GIRASSOL", dica: "Planta que segue o sol" },
        { palavra: "MECANICO", dica: "Profissional que conserta carros" },
        { palavra: "JANELA", dica: "Abertura em paredes" },
        { palavra: "CINEMA", dica: "Lugar para ver filmes" },
        { palavra: "ORIGAMI", dica: "Arte de dobrar papel" },
        { palavra: "MARTELO", dica: "Ferramenta de bater" },
        { palavra: "GELADEIRA", dica: "Mant√©m alimentos frios" },
        { palavra: "PINGUIM", dica: "Ave que vive no gelo" },
        { palavra: "CELULAR", dica: "Telefone port√°til" },
        { palavra: "MARCHA", dica: "Movimento de caminhar em grupo" },
        { palavra: "ESQUELETO", dica: "Estrutura √≥ssea dos animais" },
        { palavra: "FONE", dica: "Acess√≥rio para ouvir m√∫sica" },
        { palavra: "ROUPA", dica: "Vestu√°rio em geral" },
        { palavra: "BOLA", dica: "Objeto redondo usado em esportes" },
        { palavra: "SERRAS", dica: "Ferramenta para cortar madeira" },
        { palavra: "ESPIAO", dica: "Profissional de coleta secreta" },
        { palavra: "COPA", dica: "Competi√ß√£o ou parte de √°rvore" },
        { palavra: "LANTERNA", dica: "Serve para iluminar no escuro" },
        { palavra: "NOVELA", dica: "Hist√≥ria longa na TV" },
        { palavra: "ESCOLA", dica: "Lugar para estudar" },
        { palavra: "QUADRO", dica: "Objeto para desenhar ou pendurar" },
        { palavra: "VELA", dica: "Pode ser de anivers√°rio ou de luz" },
        { palavra: "RELOGIO", dica: "Usado para marcar o tempo" },
        { palavra: "PONTE", dica: "Serve para atravessar rios" },
        { palavra: "CRIAN√áA", dica: "Pessoa pequena, em crescimento" },
        { palavra: "MANTEIGA", dica: "Feita do leite, passa no p√£o" },
        { palavra: "LETRAS", dica: "Comp√µem palavras" },
        { palavra: "VENTILADOR", dica: "Gera vento artificial" },
        { palavra: "JOGADOR", dica: "Participa de jogos" },
        { palavra: "FANTASMA", dica: "Ser assustador imagin√°rio" },
        { palavra: "ESPAGUETE", dica: "Tipo de macarr√£o longo" },
        { palavra: "HOSPITAL", dica: "Lugar para cuidar da sa√∫de" },
        { palavra: "CIENCIA", dica: "Estudo baseado na observa√ß√£o" },
        { palavra: "MUSEU", dica: "Exibe objetos de valor hist√≥rico" },
        { palavra: "CAMALEAO", dica: "Animal que muda de cor" },
        { palavra: "BOMBA", dica: "Serve para inflar ou explodir" },
        { palavra: "CACHORRO", dica: "Melhor amigo do homem" },
        { palavra: "ROSA", dica: "Tipo de flor" },
        { palavra: "VIOLINO", dica: "Instrumento de cordas com arco" },
        { palavra: "AVIAO", dica: "Meio de transporte a√©reo" }
    ];
    let palavraSecreta = "";
    let palavraMostrada = "";
    let dicaAtual = "";
    let jogoAtivo = true;

    // ... vari√°veis/globals existentes ...
    const musica = document.getElementById("musicaFundo");

    function iniciarJogo() {
        nomeJogador = document.getElementById("nomeJogador").value.trim();
        if (nomeJogador === "") {
            alert("Por favor, insira seu nome!");
            return;
        }
        // Esconde a tela inicial e exibe o jogo.
        document.querySelector('.tela-inicial').style.display = "none";
        document.querySelector('.container').style.display = "block";
        // Inicia a m√∫sica ao come√ßar o jogo
        musica.currentTime = 0;
        musica.volume = 0.4; // ajuste o volume se quiser
        musica.play();
        // ... restante do seu c√≥digo ...
        iniciarPartida();
    }

    function iniciarPartida() {
        if (!jogoAtivo) return;

        tentativas = 6;
        document.getElementById("tentativas").innerText = tentativas;
        document.getElementById("pontuacao").innerText = pontuacao;

        const sorteio = palavras[Math.floor(Math.random() * palavras.length)];
        palavraSecreta = sorteio.palavra.toUpperCase();
        dicaAtual = sorteio.dica;
        palavraMostrada = "_".repeat(palavraSecreta.length);

        // Mostra a dica
        document.getElementById("dica").innerText = "Dica: " + dicaAtual;
        document.getElementById("palavra-secreta").innerText = palavraMostrada.split("").join(" ");
        criarTeclado();
        desenharForca(0);
    }

    function criarTeclado() {
        const teclado = document.getElementById("teclado");
        teclado.innerHTML = ""; // Limpa o teclado anterior
        const letras = "ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");
        letras.forEach(letra => {
            const botao = document.createElement("button");
            botao.classList.add("key");
            botao.type = "button"; // <- Evita submit ou problemas de formul√°rio
            botao.innerText = letra;
            botao.onclick = function() {
                if (jogoAtivo) {
                    tratarCliqueTecla(letra, botao);
                }
            };
            teclado.appendChild(botao);
        });
    }

    function tratarCliqueTecla(letra, botao) {
        botao.disabled = true;
        if (palavraSecreta.includes(letra)) {
            atualizarPalavra(letra);
            botao.style.backgroundColor = "#06d6a0";
        } else {
            tentativas--;
            document.getElementById("tentativas").innerText = tentativas;
            botao.style.backgroundColor = "#ef476f";
            desenharForca(6 - tentativas);
            if (tentativas === 0) {
                finalizarJogo(false);
            }
        }
    }

    function atualizarPalavra(letra) {
        // Atualiza a palavra mostrada na tela
        let novaPalavra = "";
        for (let i = 0; i < palavraSecreta.length; i++) {
            if (palavraSecreta[i] === letra) {
                novaPalavra += letra;
            } else {
                novaPalavra += palavraMostrada[i];
            }
        }
        palavraMostrada = novaPalavra;
        document.getElementById("palavra-secreta").innerText = palavraMostrada.split("").join(" ");

        // Checar se ganhou
        if (!palavraMostrada.includes("_")) {
            pontuacao += 10;
            palavrasAcertadas++;
            document.getElementById("pontuacao").innerText = pontuacao;
            document.getElementById("palavrasAcertadas").innerText = palavrasAcertadas;

            // Mostrar mensagem de acerto tempor√°ria
            const mensagem = document.createElement("div");
            mensagem.className = "message win";
            mensagem.innerHTML = `üéâ Parab√©ns, ${nomeJogador}! Voc√™ acertou! üéâ`;
            document.querySelector(".container").appendChild(mensagem);

            // Limpar mensagem ap√≥s 1.5 segundos e iniciar nova palavra
            setTimeout(() => {
                mensagem.remove();
                iniciarPartida();
            }, 1500);
        }
    }

    function finalizarJogo(ganhou) {
        jogoAtivo = false;
        document.querySelector(".message")?.remove();
        const mensagem = document.createElement("div");
        mensagem.className = "message";

        if (ganhou) {
            mensagem.innerHTML = `üéâ Parab√©ns, ${nomeJogador}! Voc√™ acertou! üéâ`;
            pontuacao += 10;
        } else {
            mensagem.innerHTML = `üò¢ Voc√™ perdeu. A palavra era: ${palavraSecreta}<br>Palavras acertadas: ${palavrasAcertadas}`;
            mensagem.className += " lose";
            musica.pause();
        }

        document.querySelector(".container").appendChild(mensagem);
        document.querySelectorAll(".key").forEach(botao => (botao.disabled = true));
        document.getElementById("pontuacao").innerText = pontuacao;
    }

    function reiniciarJogo() {
        // Para a m√∫sica quando o jogador para o jogo
        musica.pause();
        musica.currentTime = 0;
        // ... c√≥digo j√° existente para reiniciar o jogo ...
        // Se quiser que a m√∫sica toque de novo ao recome√ßar, chame musica.play() aqui tamb√©m:
        iniciarJogo();
        jogoAtivo = true;
        pontuacao = 0;
        palavrasAcertadas = 0;
        document.getElementById("pontuacao").innerText = pontuacao;
        document.getElementById("palavrasAcertadas").innerText = palavrasAcertadas;
        document.querySelector(".message")?.remove();
        iniciarPartida();
    }

    function desenharForca(erros) {
        const svg = document.getElementById("forca-svg");
        svg.innerHTML = "";

        // Estrutura da forca
        svg.innerHTML += `
            <line x1="10" y1="170" x2="110" y2="170" stroke="#61481c" stroke-width="6"/>
            <line x1="30" y1="170" x2="30" y2="20" stroke="#61481c" stroke-width="6"/>
            <line x1="27" y1="20" x2="90" y2="20" stroke="#61481c" stroke-width="6"/>
            <line x1="90" y1="20" x2="90" y2="40" stroke="#61481c" stroke-width="6"/>
        `;

        // Boneco: desenhar partes de acordo com o n√∫mero de erros
        if (erros > 0) {
            // Cabe√ßa
            svg.innerHTML += `<circle cx="90" cy="55" r="15" stroke="#333" stroke-width="3" fill="none"/>`;
        }
        if (erros > 1) {
            // Tronco
            svg.innerHTML += `<line x1="90" y1="70" x2="90" y2="120" stroke="#333" stroke-width="3"/>`;
        }
        if (erros > 2) {
            // Bra√ßo esquerdo
            svg.innerHTML += `<line x1="90" y1="80" x2="70" y2="100" stroke="#333" stroke-width="3"/>`;
        }
        if (erros > 3) {
            // Bra√ßo direito
            svg.innerHTML += `<line x1="90" y1="80" x2="110" y2="100" stroke="#333" stroke-width="3"/>`;
        }
        if (erros > 4) {
            // Perna esquerda
            svg.innerHTML += `<line x1="90" y1="120" x2="75" y2="150" stroke="#333" stroke-width="3"/>`;
        }
        if (erros > 5) {
            // Perna direita
            svg.innerHTML += `<line x1="90" y1="120" x2="105" y2="150" stroke="#333" stroke-width="3"/>`;
        }
    }

    // Permitir uso do teclado f√≠sico
    document.addEventListener("keydown", function(event) {
        // Apenas se o jogo estiver ativo (exibe a .container)
        if (document.querySelector(".container").style.display !== "block" || !jogoAtivo) return;
        let letra = event.key.toUpperCase();

        // S√≥ consideramos letras A-Z, ignorando acentos e outros caracteres
        if (letra.length === 1 && letra >= "A" && letra <= "Z") {
            // Procura o bot√£o correspondente e dispara o clique, se dispon√≠vel
            const botao = Array.from(document.querySelectorAll(".key"))
                .find(b => b.innerText === letra && !b.disabled);
            if (botao) {
                botao.click();
            }
        }
    });

    // Opcional: pausa a m√∫sica se sair da p√°gina/janela
    window.addEventListener('beforeunload', () => {
        musica.pause();
    });
</script>
</body>
</html>
